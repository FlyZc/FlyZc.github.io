{"title":"Hive 1.2.2环境搭建","date":"2022-02-02T12:09:16.000Z","date_formatted":{"ll":"Feb 2, 2022","L":"02/02/2022","MM-DD":"02-02"},"link":"2022/02/02/Hive-1-2-2环境搭建","tags":["Hive"],"categories":["大数据"],"updated":"2022-03-15T15:06:24.500Z","content":"<h3 id=\"安装包准备\">安装包准备<a title=\"#安装包准备\" href=\"#安装包准备\"></a></h3>\n<ul>\n<li>apache-hive-1.2.2-bin.tar.gz</li>\n<li>mysql-connector-java-5.1.49.tar.gz</li>\n<li>jline-2.12.jar</li>\n</ul>\n<h3 id=\"解压apache-hive-1.2.2-bin.tar.gz(master)\">解压apache-hive-1.2.2-bin.tar.gz(master)<a title=\"#解压apache-hive-1.2.2-bin.tar.gz(master)\" href=\"#解压apache-hive-1.2.2-bin.tar.gz(master)\"></a></h3>\n<ul>\n<li><code>cd /usr/local/src</code></li>\n<li><code>tar -zxvf apache-hive-1.2.2-bin.tar.gz</code></li>\n</ul>\n<h3 id=\"修改hive配置信息(master)\">修改Hive配置信息(master)<a title=\"#修改hive配置信息(master)\" href=\"#修改hive配置信息(master)\"></a></h3>\n<ul>\n<li><code>cd apache-hive-1.2.2-bin/conf</code></li>\n<li><code>vim hive-site.xml</code></li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=<span class=\"string\">&quot;1.0&quot;</span>?&gt;</span></span><br><span class=\"line\"><span class=\"meta\">&lt;?xml-stylesheet type=<span class=\"string\">&quot;text/xsl&quot;</span> href=<span class=\"string\">&quot;configuration.xsl&quot;</span>?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">configuration</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>javax.jdo.option.ConnectionURL<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>jdbc:mysql://master:3306/hive?createDatabaseIfNotExist=true<span class=\"symbol\">&amp;amp;</span>useSSL=false<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>javax.jdo.option.ConnectionDriverName<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>com.mysql.jdbc.Driver<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>javax.jdo.option.ConnectionUserName<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>root<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>javax.jdo.option.ConnectionPassword<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>123456<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>hive.metastore.warehouse.dir<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span>                         </span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>/user/hive/warehouse<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>yarn.app.mapreduce.am.command-opts<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>-Djava.net.preferIPv4Stack=true -Xmx500m<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>mapreduce.map.java.opts<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>-Djava.net.preferIPv4Stack=true -Xmx500m<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>mapreduce.reduce.java.opts<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>-Djava.net.preferIPv4Stack=true -Xmx500m<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>vim hive-env.sh</code></li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Set HADOOP_HOME to point to a specific hadoop install directory</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> HADOOP_HOME=/usr/local/src/hadoop-2.7.7</span><br><span class=\"line\"><span class=\"comment\"># Hive Configuration Directory can be controlled by:</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> HIVE_CONF_DIR=/usr/local/src/apache-hive-1.2.2-bin/conf</span><br><span class=\"line\"><span class=\"comment\"># Folder containing extra libraries required for hive compilation/execution can be controlled by:</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> HIVE_AUX_JARS_PATH=/usr/local/src/apache-hive-1.2.2-bin/lib</span><br></pre></td></tr></table></figure>\n<h3 id=\"添加环境变量(master,slave1,slave2)\">添加环境变量(master,slave1,slave2)<a title=\"#添加环境变量(master,slave1,slave2)\" href=\"#添加环境变量(master,slave1,slave2)\"></a></h3>\n<ul>\n<li><code>vim ~/.bashrc</code></li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">export</span> HIVE_HOME=/usr/local/src/apache-hive-1.2.2-bin</span><br><span class=\"line\"><span class=\"built_in\">export</span> PATH=<span class=\"variable\">$PATH</span>:<span class=\"variable\">$HIVE_HOME</span>/bin</span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>source ~/.bashrc</code></li>\n</ul>\n<h3 id=\"安装mysql\"><a href=\"https://zhoufeichi.com/2022/01/25/Centos-7-6%E5%AE%89%E8%A3%85Mysql/\">安装MySQL</a><a title=\"#安装mysql\" href=\"#安装mysql\"></a></h3>\n<h3 id=\"安装mysql连接工具(master)\">安装MySQL连接工具(master)<a title=\"#安装mysql连接工具(master)\" href=\"#安装mysql连接工具(master)\"></a></h3>\n<ul>\n<li>将mysql-connector-java-5.1.45-bin.jar放入/usr/local/src/apache-hive-1.2.2-bin/lib</li>\n<li>将jline-2.12.jar放入/usr/local/src/hadoop-2.7.7/share/hadoop/yarn/lib(master，slave1,slave2均设置)</li>\n</ul>\n<h3 id=\"slave节点配置\">slave节点配置<a title=\"#slave节点配置\" href=\"#slave节点配置\"></a></h3>\n<ul>\n<li>scp -r /usr/local/src/apache-hive-1.2.2-bin root@slave1:/usr/local/src/apache-hive-1.2.2-bin</li>\n<li>scp -r /usr/local/src/apache-hive-1.2.2-bin root@slave2:/usr/local/src/apache-hive-1.2.2-bin</li>\n</ul>\n<h3 id=\"启动hive\">启动Hive<a title=\"#启动hive\" href=\"#启动hive\"></a></h3>\n<ul>\n<li>hive</li>\n</ul>\n","next":{"title":"Centos 7.6安装Mysql","link":"2022/01/25/Centos-7-6安装Mysql"},"plink":"https://zhoufeichi.com/2022/02/02/Hive-1-2-2环境搭建/","toc":[{"id":"安装包准备","title":"安装包准备","index":"1"},{"id":"解压apache-hive-1.2.2-bin.tar.gz(master)","title":"解压apache-hive-1.2.2-bin.tar.gz(master)","index":"2"},{"id":"修改hive配置信息(master)","title":"修改Hive配置信息(master)","index":"3"},{"id":"添加环境变量(master,slave1,slave2)","title":"添加环境变量(master,slave1,slave2)","index":"4"},{"id":"安装mysql","title":"安装MySQL","index":"5"},{"id":"安装mysql连接工具(master)","title":"安装MySQL连接工具(master)","index":"6"},{"id":"slave节点配置","title":"slave节点配置","index":"7"},{"id":"启动hive","title":"启动Hive","index":"8"}],"reward":true,"reading_time":"449 words in 3 min"}